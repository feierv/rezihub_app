{% extends '_base.html' %}
{% block content %}
<div class="auth">
  <div class="auth__left">
    <div class="auth__content">
      <h1 class="auth__title-stepper">Buna, <br>
        Hai sa ne cunoastem! 🤝
      </h1>
      <form action="{% url 'continue-register' %}" method="post" class="auth-form" id="step-1">
        {% csrf_token %}
        <!-- Pre Nume -->
        <div class="form__field">
          <label for="first-name" class="form__label">Nume:</label>
          <input id="first-name" type="text" name='nume' class="form__input 
                          {% if errors.nume %} form__error {% endif %}" required placeholder="Numele dvs."
                           value="{% if instance %}{{ instance.nume }}{% elif entered_data%}{{entered_data.nume}}{% endif %}">

                           
        </div>
        <!-- Nume -->
        <div class="form__field">
          <label for="last-name" class="form__label">Prenume:</label>
          <input id="last-name" type="text" name='prenume' class="form__input
                {% if errors.prenume %} form__error {% endif %}" required placeholder="Prenumele dvs."
                value="{% if instance %}{{ instance.prenume }}{% elif entered_data%}{{entered_data.prenume}}{% endif %}">
        </div>
        <!-- Telefon -->
        <div class="form__field">
          <label for="phone" class="form__label">Telefon:</label>
          <input id="phone" type="tel" maxlength=10 name='phone' class="form__input required 
                {% if errors.phone %} form__error {% endif %}" placeholder="0742-900-300" required  pattern=".{10,}"
                value="{% if instance %}{{ instance.phone }}{% elif entered_data%}{{entered_data.phone}}{% endif %}">
          {% if errors.phone %}
          <div class="form__error--text">{{ errors.phone }}</div>
          {% endif %}
        </div>
        <!-- Localitate -->
        <div class="form__field">
          <label for="city" class="form__label">Localitate:</label>
          <input id="city" type="text" name='localitate' class="form__input
                 {% if errors.localitate %} form__error {% endif %}" required placeholder="Introduce-ți numele Orașului"
                  value="{% if instance %}{{ instance.localitate}}{% elif entered_data%}{{entered_data.localitate}}{% endif %}">

        </div>
        <!-- Judet -->
        <div class="form__field">
          <label for="county" class="form__label">Judet:</label>
          <input id="county"  type="text" name='judet' class="form__input
                   {% if errors.judet %} form__error {% endif %}" required placeholder="Introduce-ți Județul" 
                    value="{% if instance %}{{ instance.judet }}{% elif entered_data%}{{entered_data.judet}}{% endif %}">

        </div>
        <!-- Strada -->
        <div class="form__field">
          <label for="street" class="form__label">Strada:</label>
          <input id="street" type="text" name='strada' class="form__input
                     {% if errors.strada %} form__error {% endif %}" required placeholder="Introduce-ți Strada"
                      value="{% if instance %}{{ instance.strada }}{% elif entered_data%}{{entered_data.strada}}{% endif %}">

        </div>
        <!-- Numar -->
        <div class="form__field">
          <label for="number" class="form__label">Numar:</label>
          <input id="number" type="tel" maxlength="5" name='numar' class="form__input
                         {% if errors.numar %} form__error {% endif %}" required placeholder="Introduce-ți Numarul"
                      value="{% if instance %}{{ instance.numar }}{% elif entered_data%}{{entered_data.numar}}{% endif %}">

        </div>
        <div class="form__actions">
          <button id="button-stepper-1" type="submit" class="button button--primary">
            <span>Continua</span>
          </button>
        </div>
      </form>
      <div class="stepper__info">
        Datele dumneavoastră de contact sunt necesare în vederea emiterii facturii în cazul achiziționării unui cont premium. 
        Vă asigurăm că informațiile personale furnizate vor fi păstrate în siguranță și vor fi utilizate doar în scopul facturării și comunicării cu dumneavoastră. 
        Ne angajăm să protejăm confidențialitatea datelor clienților noștri și să respectăm cele mai înalte standarde de securitate și transparență. 
        Vă mulțumim pentru înțelegere.
      </div>
    </div>
  </div>
  <div class="auth__right">
    <div class="auth__right-wrapper">
      <div class="display-1">Lorem ipsum dolor sit amet</div>
      <div class="text-body-16">Lorem ipsum dolor sit amet consectetur. Tortor dui vitae proin viverra. Cursus mi vel risus dolor nisi ac in euismod vel gravida mi aliquet sit sit.</div>
    </div>
    <div class="auth__right-image">
      <img src="/static/assets/images/dashboard-present-min.png" alt="rezihub dashboard" width="auto" height="auto"/>
    </div>
  </div>
</div>
<script>
    const phoneInput = document.querySelector('#phone');
    phoneInput.addEventListener('keyup', function(e) {
        const value = e.target.value.replace(/[^\d]/g, '');
        e.target.value = value.replace(/^(\d{4})(\d{3})(\d{3})/, "$1-$2-$3"); 
    });
</script>

{% endblock %}